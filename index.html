<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Masyarakat Pasar Kaler - Desa Tagog Apu</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .hero-bg { 
            background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.4)), 
                        url('https://upload.wikimedia.org/wikipedia/commons/e/e4/COLLECTIE_TROPENMUSEUM_Medewerkers_van_een_kalkbranderij_aan_de_voet_van_de_kalkrotsen_bij_Tagogapoe_TMnr_60025392.jpg');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
        }
        
        .text-shadow-lg {
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
        }
        
        .text-shadow-md {
            text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
        }
        
        .card-hover { 
            transition: transform 0.3s ease, box-shadow 0.3s ease; 
        }
        
        .card-hover:hover { 
            transform: translateY(-5px); 
            box-shadow: 0 10px 25px rgba(0,0,0,0.1); 
        }
        
        /* WhatsApp Floating Button */
        .whatsapp-float {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            animation: bounce 2s infinite;
        }
        
        .whatsapp-btn {
            background: #25D366;
            color: white;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .whatsapp-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(37, 211, 102, 0.6);
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        /* Admin Panel */
        .admin-panel {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            z-index: 1001;
            width: 90%;
            max-width: 500px;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .admin-panel.show {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }
        
        .admin-panel-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .admin-panel-overlay.show {
            opacity: 1;
            visibility: visible;
        }
        
        /* Top Banner */
        .top-lyrics-banner {
            background: linear-gradient(135deg, #FF0000 0%, #FFFFFF 50%, #FF0000 100%);
            padding: 12px 0;
            overflow: hidden;
            position: relative;
        }
        
        .top-lyrics-text {
            display: inline-block;
            white-space: nowrap;
            font-size: 18px;
            font-weight: bold;
            color: #FFFFFF;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            animation: scroll-left 50s linear infinite;
        }
        
        @keyframes scroll-left {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        
        /* Indonesian Flag */
        .flag-container {
            position: relative;
            width: 60px;
            height: 40px;
            margin-left: 20px;
        }
        
        .flag {
            width: 60px;
            height: 40px;
            box-shadow: 2px 2px 4px rgba(0,0,0,0.2);
            border-radius: 2px;
            animation: flagWave 3s ease-in-out infinite;
        }
        
        .flag-red {
            width: 100%;
            height: 50%;
            background: #FF0000;
        }
        
        .flag-white {
            width: 100%;
            height: 50%;
            background: #FFFFFF;
        }
        
        @keyframes flagWave {
            0%, 100% { transform: rotateY(0deg); }
            25% { transform: rotateY(-8deg); }
            50% { transform: rotateY(0deg); }
            75% { transform: rotateY(8deg); }
        }
        
        /* Mobile Navigation */
        .mobile-nav {
            position: fixed;
            top: 0;
            left: -100%;
            width: 280px;
            height: 100vh;
            background: white;
            z-index: 1000;
            transition: left 0.3s ease;
            padding: 80px 0 20px 0;
        }
        
        .mobile-nav.active {
            left: 0;
        }
        
        .mobile-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
        }
        
        .mobile-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        /* Finance Report */
        .finance-tab {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .finance-tab.active {
            background: #16a34a !important;
            color: white !important;
        }
        
        /* Chat Styles */
        .chat-container {
            max-height: 400px;
            overflow-y: auto;
            padding: 10px;
            background: #f0f0f0;
            border-radius: 10px;
        }
        
        .chat-message {
            margin-bottom: 10px;
            display: flex;
            align-items: flex-start;
        }
        
        .chat-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            font-weight: bold;
            margin-right: 8px;
        }
        
        .chat-bubble {
            background: white;
            padding: 8px 12px;
            border-radius: 18px;
            max-width: 70%;
            word-wrap: break-word;
        }
        
        .chat-name {
            font-size: 11px;
            color: #25D366;
            font-weight: 600;
            margin-bottom: 2px;
        }
        
        .chat-text {
            font-size: 13px;
            color: #333;
            margin-bottom: 2px;
        }
        
        .chat-time {
            font-size: 10px;
            color: #666;
            text-align: right;
        }
        
        .chat-tabs {
            display: flex;
            margin-bottom: 10px;
        }
        
        .chat-tab {
            flex: 1;
            padding: 8px 12px;
            text-align: center;
            background: #f5f5f5;
            color: #666;
            cursor: pointer;
            font-size: 12px;
            border: none;
            transition: all 0.3s ease;
        }
        
        .chat-tab.active {
            background: #25D366;
            color: white;
        }
        
        .chat-content {
            display: none;
        }
        
        .chat-content.active {
            display: block;
        }
        
        /* Data Warga */
        .data-tab {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .data-tab.active {
            background: #2563eb !important;
            color: white !important;
        }
        
        /* Calendar Styles */
        .calendar-container {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
            margin-bottom: 20px;
        }
        
        .calendar-day {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .calendar-day-header {
            font-weight: 600;
            color: #666;
            background: #f8f9fa;
        }
        
        .calendar-day:hover {
            background: #e3f2fd;
        }
        
        .calendar-day.today {
            background: #2196f3;
            color: white;
        }
        
        .calendar-day.has-event {
            background: #4caf50;
            color: white;
        }
        
        .calendar-day.has-event::after {
            content: '';
            position: absolute;
            bottom: 2px;
            right: 2px;
            width: 6px;
            height: 6px;
            background: #ff9800;
            border-radius: 50%;
        }
        
        /* Notification Styles */
        .notification-banner {
            position: fixed;
            top: 60px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, #4caf50 0%, #45a049 100%);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            box-shadow: 0 4px 20px rgba(76, 175, 80, 0.3);
            z-index: 1100;
            animation: slideDown 0.5s ease, fadeOut 0.5s ease 4.5s;
            font-size: 14px;
            font-weight: 500;
            max-width: 90%;
            text-align: center;
            display: none;
        }
        
        @keyframes slideDown {
            from { transform: translateX(-50%) translateY(-20px); opacity: 0; }
            to { transform: translateX(-50%) translateY(0); opacity: 1; }
        }
        
        @keyframes fadeOut {
            from { opacity: 1; }
            to { opacity: 0; }
        }
        
        /* Photo Gallery Enhanced */
        .photo-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .photo-item {
            position: relative;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .photo-item:hover {
            transform: translateY(-5px);
        }
        
        .photo-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        
        .photo-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            color: white;
            padding: 20px;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }
        
        .photo-item:hover .photo-overlay {
            transform: translateY(0);
        }
        
        /* Running Text Footer */
        .running-text-footer {
            background: linear-gradient(135deg, #2196f3 0%, #21cbf3 100%);
            color: white;
            padding: 15px 0;
            overflow: hidden;
            position: relative;
        }
        
        .running-text {
            display: inline-block;
            white-space: nowrap;
            font-size: 16px;
            font-weight: 500;
            animation: scroll-right 60s linear infinite;
        }
        
        @keyframes scroll-right {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        /* Data Warga Enhanced */
        .warga-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 15px;
        }
        
        .warga-table th,
        .warga-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .warga-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #374151;
        }
        
        .warga-table tr:hover {
            background: #f8f9fa;
        }
        
        .status-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 500;
        }
        
        .status-kk {
            background: #dbeafe;
            color: #1e40af;
        }
        
        .status-istri {
            background: #fce7f3;
            color: #be185d;
        }
        
        .status-anak {
            background: #d1fae5;
            color: #065f46;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .hero-bg {
                background-attachment: scroll;
            }
            
            .flag-container {
                width: 45px;
                height: 30px;
            }
            
            .flag {
                width: 45px;
                height: 30px;
            }
            
            .whatsapp-btn {
                width: 56px;
                height: 56px;
            }
            
            .top-lyrics-text {
                font-size: 14px;
            }
            
            .calendar-grid {
                font-size: 12px;
            }
            
            .photo-gallery {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 15px;
            }
            
            .running-text {
                font-size: 14px;
            }
            
            .notification-banner {
                font-size: 12px;
                padding: 10px 20px;
            }
        }
    </style>
</head>
<body class="bg-gray-50">
    <!-- Top Lyrics Banner -->
    <div class="top-lyrics-banner">
        <div class="top-lyrics-text">
            🎵 Tanah airku tidak kulupakan • Kan terkenang selama hidupku • Biarpun saya pergi jauh • Tidak kan hilang dari kalbu • Tanah ku yang kucintai • Engkau ku hargai • Walaupun banyak negeri kujalani • Yang masyhur permai dikata orang • Tetapi kampung dan rumah ku • Di mana lahir dan besar aku • Itulah yang kubanggakan • Itulah yang mulia • 🎵 Ciptaan: Ibu Sud (Saridjah Niung) 🎵
        </div>
    </div>

    <!-- Mobile Navigation Overlay -->
    <div class="mobile-overlay" id="mobileOverlay" onclick="toggleMobileNav()"></div>
    
    <!-- Mobile Navigation -->
    <nav class="mobile-nav" id="mobileNav">
        <a href="#beranda" onclick="toggleMobileNav()" class="block px-6 py-4 text-gray-700 hover:bg-gray-100">
            🏠 Beranda
        </a>
        <a href="#kegiatan" onclick="toggleMobileNav()" class="block px-6 py-4 text-gray-700 hover:bg-gray-100">
            👥 Kegiatan
        </a>
        <a href="#berita" onclick="toggleMobileNav()" class="block px-6 py-4 text-gray-700 hover:bg-gray-100">
            📰 Berita
        </a>
        <a href="#galeri" onclick="toggleMobileNav()" class="block px-6 py-4 text-gray-700 hover:bg-gray-100">
            🖼️ Galeri
        </a>
        <a href="#kontak" onclick="toggleMobileNav()" class="block px-6 py-4 text-gray-700 hover:bg-gray-100">
            📞 Kontak
        </a>
    </nav>

    <!-- Header -->
    <header class="bg-white shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <img src="https://upload.wikimedia.org/wikipedia/commons/9/99/Coat_of_arms_of_West_Java.svg" 
                         alt="Logo Provinsi Jawa Barat" 
                         class="w-14 h-14 object-contain">
                    <div>
                        <h1 class="text-xl font-bold text-gray-800">Pasar Kaler</h1>
                        <p class="text-sm text-gray-600">Desa Tagog Apu • Jawa Barat</p>
                    </div>
                </div>
                
                <!-- Indonesian Flag -->
                <div class="flag-container">
                    <div class="flag">
                        <div class="flag-red"></div>
                        <div class="flag-white"></div>
                    </div>
                </div>

                <button class="md:hidden text-gray-700 p-2 rounded-lg hover:bg-gray-100" onclick="toggleMobileNav()">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section id="beranda" class="hero-bg text-white py-20 relative">
        <div class="absolute inset-0 bg-black/50"></div>
        <div class="container mx-auto px-4 text-center relative z-10">
            <h2 class="text-4xl md:text-5xl font-bold mb-4 text-shadow-lg">Selamat Datang di Masyarakat Pasar Kaler</h2>
            <p class="text-sm text-yellow-200 font-medium mb-2">🏔️ Warisan Sejarah Kalkrotsen Tagog Apu</p>
            <p class="text-xl mb-8 max-w-2xl mx-auto text-shadow-md">Membangun komunitas yang solid dan harmonis melalui kegiatan sosial yang menyatukan warga RT 002 RW 004</p>
            <div class="bg-black/40 backdrop-blur-sm rounded-lg p-6 max-w-md mx-auto mb-8 border border-white/20">
                <p class="text-lg font-semibold text-yellow-300">Alamat Lengkap:</p>
                <p class="text-sm">Kampung Pasar Kaler RT 002 RW 004</p>
                <p class="text-sm">Kelurahan Desa Tagog Apu</p>
                <p class="text-sm">Kecamatan Padalarang</p>
                <p class="text-sm">Kabupaten Bandung Barat</p>
                <p class="text-sm">Provinsi Jawa Barat</p>
            </div>
            <button onclick="joinActivity()" class="bg-white text-blue-600 px-8 py-3 rounded-full font-semibold hover:bg-gray-100 transition shadow-lg">
                Bergabung dengan Kegiatan
            </button>
        </div>
    </section>

    <!-- Kegiatan Section -->
    <section id="kegiatan" class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <h3 class="text-3xl font-bold text-center mb-12 text-gray-800">Kegiatan Sosial Masyarakat</h3>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="bg-white rounded-lg shadow-lg p-6 card-hover">
                    <div class="w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center mb-4">
                        <span class="text-2xl">👥</span>
                    </div>
                    <h4 class="text-xl font-semibold mb-3">Gotong Royong Rutin</h4>
                    <p class="text-gray-600 mb-4">Kegiatan membersihkan lingkungan setiap hari Minggu pagi untuk menjaga kebersihan dan keindahan kampung.</p>
                    <span class="text-sm text-green-600 font-semibold">Setiap Minggu • 07:00 WIB</span>
                </div>

                <div class="bg-white rounded-lg shadow-lg p-6 card-hover">
                    <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center mb-4">
                        <span class="text-2xl">📖</span>
                    </div>
                    <h4 class="text-xl font-semibold mb-3">Pengajian Mingguan</h4>
                    <p class="text-gray-600 mb-4">Kajian keagamaan dan diskusi spiritual untuk mempererat tali silaturahmi antar warga.</p>
                    <span class="text-sm text-blue-600 font-semibold">Setiap Kamis • 19:30 WIB</span>
                </div>

                <div class="bg-white rounded-lg shadow-lg p-6 card-hover">
                    <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center mb-4">
                        <span class="text-2xl">❤️</span>
                    </div>
                    <h4 class="text-xl font-semibold mb-3">Kegiatan Sosial</h4>
                    <p class="text-gray-600 mb-4">Bantuan untuk warga yang membutuhkan, santunan anak yatim, dan program kesehatan gratis.</p>
                    <span class="text-sm text-purple-600 font-semibold">Setiap Bulan • Fleksibel</span>
                </div>

                <div class="bg-white rounded-lg shadow-lg p-6 card-hover">
                    <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center mb-4">
                        <span class="text-2xl">🎓</span>
                    </div>
                    <h4 class="text-xl font-semibold mb-3">Pelatihan Keterampilan</h4>
                    <p class="text-gray-600 mb-4">Workshop jahit, masak, dan keterampilan lainnya untuk meningkatkan ekonomi keluarga.</p>
                    <span class="text-sm text-orange-600 font-semibold">Setiap Bulan • 14:00 WIB</span>
                </div>

                <div class="bg-white rounded-lg shadow-lg p-6 card-hover">
                    <div class="w-12 h-12 bg-red-100 rounded-lg flex items-center justify-center mb-4">
                        <span class="text-2xl">🌙</span>
                    </div>
                    <h4 class="text-xl font-semibold mb-3">Ronda Malam</h4>
                    <p class="text-gray-600 mb-4">Sistem keamanan kampung dengan jadwal ronda yang teratur untuk menjaga ketertiban.</p>
                    <span class="text-sm text-red-600 font-semibold">Setiap Hari • 21:00-05:00 WIB</span>
                </div>

                <div class="bg-white rounded-lg shadow-lg p-6 card-hover">
                    <div class="w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mb-4">
                        <span class="text-2xl">♻️</span>
                    </div>
                    <h4 class="text-xl font-semibold mb-3">Pengelolaan Sampah</h4>
                    <p class="text-gray-600 mb-4">Program daur ulang dan pengelolaan sampah mandiri untuk lingkungan yang lebih sehat.</p>
                    <span class="text-sm text-teal-600 font-semibold">Setiap Hari • 06:00 WIB</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Berita Section -->
    <section id="berita" class="py-16 bg-gray-50">
        <div class="container mx-auto px-4">
            <h3 class="text-3xl font-bold text-center mb-12 text-gray-800">Berita & Pengumuman</h3>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                <article class="bg-white rounded-lg shadow-lg overflow-hidden card-hover">
                    <div class="h-48 bg-gradient-to-br from-blue-500 to-purple-600"></div>
                    <div class="p-6">
                        <span class="text-sm text-blue-600 font-semibold">14 Juli 2025</span>
                        <h4 class="text-xl font-semibold mb-3 mt-2">Perayaan 17 Agustus 2025</h4>
                        <p class="text-gray-600 mb-4">Persiapan lomba dan kegiatan kemerdekaan untuk memeriahkan HUT RI ke-80...</p>
                        <button onclick="showNewsDetail('17agustus')" class="text-blue-600 font-semibold hover:underline">Baca Selengkapnya</button>
                    </div>
                </article>

                <article class="bg-white rounded-lg shadow-lg overflow-hidden card-hover">
                    <div class="h-48 bg-gradient-to-br from-green-500 to-teal-600"></div>
                    <div class="p-6">
                        <span class="text-sm text-green-600 font-semibold">10 Juli 2025</span>
                        <h4 class="text-xl font-semibold mb-3 mt-2">Program Vaksinasi Gratis</h4>
                        <p class="text-gray-600 mb-4">Kerjasama dengan Puskesmas setempat untuk memberikan layanan vaksinasi...</p>
                        <button onclick="showNewsDetail('vaksinasi')" class="text-green-600 font-semibold hover:underline">Baca Selengkapnya</button>
                    </div>
                </article>

                <article class="bg-white rounded-lg shadow-lg overflow-hidden card-hover">
                    <div class="h-48 bg-gradient-to-br from-orange-500 to-red-600"></div>
                    <div class="p-6">
                        <span class="text-sm text-orange-600 font-semibold">5 Juli 2025</span>
                        <h4 class="text-xl font-semibold mb-3 mt-2">Renovasi Balai Warga</h4>
                        <p class="text-gray-600 mb-4">Swadaya masyarakat untuk memperbaiki fasilitas umum di kampung...</p>
                        <button onclick="showNewsDetail('renovasi')" class="text-orange-600 font-semibold hover:underline">Baca Selengkapnya</button>
                    </div>
                </article>
            </div>
        </div>
    </section>

    <!-- Galeri Section Enhanced -->
    <section id="galeri" class="py-16 bg-white">
        <div class="container mx-auto px-4">
            <h3 class="text-3xl font-bold text-center mb-12 text-gray-800">📸 Galeri Kegiatan</h3>
            
            <!-- Photo Gallery with Real Photos -->
            <div class="photo-gallery">
                <div class="photo-item" onclick="showGalleryImage('upacara', 'Upacara Bendera 17 Agustus')">
                    <div style="width: 100%; height: 200px; background: linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 48px;">🇮🇩</div>
                    <div class="photo-overlay">
                        <h4 class="font-bold text-lg">Upacara Bendera</h4>
                        <p class="text-sm opacity-90">Memperingati HUT RI ke-80 di halaman RT 002. Dihadiri 47 warga dengan khidmat.</p>
                        <span class="text-xs opacity-80">📅 17 Agustus 2025</span>
                    </div>
                </div>
                
                <div class="photo-item" onclick="showGalleryImage('angklung', 'Kegiatan Angklung Warga')">
                    <div style="width: 100%; height: 200px; background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 48px;">🎵</div>
                    <div class="photo-overlay">
                        <h4 class="font-bold text-lg">Kegiatan Angklung</h4>
                        <p class="text-sm opacity-90">Pelestarian budaya Sunda dengan grup angklung RT 002. Latihan setiap minggu.</p>
                        <span class="text-xs opacity-80">📅 Setiap Minggu</span>
                    </div>
                </div>
                
                <div class="photo-item" onclick="showGalleryImage('kolak', 'Kolak Pisang dan Ubi')">
                    <div style="width: 100%; height: 200px; background: linear-gradient(135deg, #fdcb6e 0%, #e17055 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 48px;">🍲</div>
                    <div class="photo-overlay">
                        <h4 class="font-bold text-lg">Kolak Pisang Ubi</h4>
                        <p class="text-sm opacity-90">Lomba memasak tradisional dalam rangka 17 Agustus. Resep turun temurun.</p>
                        <span class="text-xs opacity-80">📅 15 Agustus 2025</span>
                    </div>
                </div>
                
                <div class="photo-item" onclick="showGalleryImage('seblak', 'Seblak Khas Garut')">
                    <div style="width: 100%; height: 200px; background: linear-gradient(135deg, #e84393 0%, #fd79a8 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 48px;">🌶️</div>
                    <div class="photo-overlay">
                        <h4 class="font-bold text-lg">Seblak Garut</h4>
                        <p class="text-sm opacity-90">Kuliner favorit warga RT 002. Dibuat dengan bumbu khas Garut yang pedas.</p>
                        <span class="text-xs opacity-80">📅 Setiap Hari</span>
                    </div>
                </div>
                
                <div class="photo-item" onclick="showGalleryImage('kopi-warga', 'Kegiatan Kopi Warga')">
                    <div style="width: 100%; height: 200px; background: linear-gradient(135deg, #6c5ce7 0%, #a29bfe 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 48px;">☕</div>
                    <div class="photo-overlay">
                        <h4 class="font-bold text-lg">Kopi Warga</h4>
                        <p class="text-sm opacity-90">Ngopi bareng di pos ronda setiap sore. Membahas masalah RT dan kegiatan.</p>
                        <span class="text-xs opacity-80">📅 Setiap Sore 16:00</span>
                    </div>
                </div>
                
                <div class="photo-item" onclick="showGalleryImage('gotong-royong', 'Tradisi Gotong Royong')">
                    <div style="width: 100%; height: 200px; background: linear-gradient(135deg, #00b894 0%, #55efc4 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 48px;">🤝</div>
                    <div class="photo-overlay">
                        <h4 class="font-bold text-lg">Gotong Royong</h4>
                        <p class="text-sm opacity-90">Tradisi membersihkan lingkungan RT setiap Minggu pagi. Semua warga ikut serta.</p>
                        <span class="text-xs opacity-80">📅 Setiap Minggu 07:00</span>
                    </div>
                </div>
                
                <div class="photo-item" onclick="showGalleryImage('pelatihan-keterampilan', 'Pelatihan Keterampilan')">
                    <div style="width: 100%; height: 200px; background: linear-gradient(135deg, #fd79a8 0%, #fdcb6e 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 48px;">🎓</div>
                    <div class="photo-overlay">
                        <h4 class="font-bold text-lg">Pelatihan Keterampilan</h4>
                        <p class="text-sm opacity-90">Program dari Gubernur Jawa Barat untuk meningkatkan skill warga RT 002.</p>
                        <span class="text-xs opacity-80">📅 Setiap Bulan</span>
                    </div>
                </div>
                
                <div class="photo-item" onclick="showGalleryImage('pos-ronda', 'Pos Ronda Siskamling')">
                    <div style="width: 100%; height: 200px; background: linear-gradient(135deg, #636e72 0%, #2d3436 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 48px;">🏠</div>
                    <div class="photo-overlay">
                        <h4 class="font-bold text-lg">Pos Ronda Siskamling</h4>
                        <p class="text-sm opacity-90">Sistem Keamanan Lingkungan RT 002. Dijaga 24 jam oleh warga secara bergantian.</p>
                        <span class="text-xs opacity-80">📅 Setiap Hari 21:00-05:00</span>
                    </div>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="text-center mt-12">
                <div class="flex justify-center space-x-4">
                    <button onclick="uploadPhoto()" class="bg-green-600 text-white px-6 py-3 rounded-lg hover:bg-green-700 transition">
                        📤 Upload Foto Kegiatan
                    </button>
                    <button onclick="downloadAllPhotos()" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition">
                        💾 Download Semua Foto
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Interactive Features -->
    <section class="py-16 bg-blue-50">
        <div class="container mx-auto px-4">
            <h3 class="text-3xl font-bold text-center mb-12 text-gray-800">Fitur Interaktif</h3>
            <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                
                <!-- Kalender Kegiatan -->
                <div class="calendar-container">
                    <div class="calendar-header">
                        <h4 class="text-xl font-semibold text-gray-800">📅 Kalender Kegiatan</h4>
                        <div class="flex space-x-2">
                            <button onclick="changeMonth(-1)" class="px-3 py-1 bg-blue-500 text-white rounded-lg text-sm hover:bg-blue-600">‹</button>
                            <button onclick="changeMonth(1)" class="px-3 py-1 bg-blue-500 text-white rounded-lg text-sm hover:bg-blue-600">›</button>
                        </div>
                    </div>
                    
                    <div class="text-center mb-4">
                        <h5 id="currentMonth" class="text-lg font-semibold text-gray-700">Juli 2025</h5>
                    </div>
                    
                    <div class="calendar-grid">
                        <div class="calendar-day calendar-day-header">Min</div>
                        <div class="calendar-day calendar-day-header">Sen</div>
                        <div class="calendar-day calendar-day-header">Sel</div>
                        <div class="calendar-day calendar-day-header">Rab</div>
                        <div class="calendar-day calendar-day-header">Kam</div>
                        <div class="calendar-day calendar-day-header">Jum</div>
                        <div class="calendar-day calendar-day-header">Sab</div>
                        
                        <div class="calendar-day"></div>
                        <div class="calendar-day"></div>
                        <div class="calendar-day">1</div>
                        <div class="calendar-day">2</div>
                        <div class="calendar-day has-event" onclick="showEventDetail('3-juli')">3</div>
                        <div class="calendar-day">4</div>
                        <div class="calendar-day">5</div>
                        <div class="calendar-day has-event" onclick="showEventDetail('6-juli')">6</div>
                        <div class="calendar-day">7</div>
                        <div class="calendar-day">8</div>
                        <div class="calendar-day">9</div>
                        <div class="calendar-day has-event" onclick="showEventDetail('10-juli')">10</div>
                        <div class="calendar-day">11</div>
                        <div class="calendar-day">12</div>
                        <div class="calendar-day">13</div>
                        <div class="calendar-day today">14</div>
                        <div class="calendar-day">15</div>
                        <div class="calendar-day">16</div>
                        <div class="calendar-day has-event" onclick="showEventDetail('17-juli')">17</div>
                        <div class="calendar-day">18</div>
                        <div class="calendar-day">19</div>
                        <div class="calendar-day">20</div>
                        <div class="calendar-day has-event" onclick="showEventDetail('21-juli')">21</div>
                        <div class="calendar-day">22</div>
                        <div class="calendar-day">23</div>
                        <div class="calendar-day">24</div>
                        <div class="calendar-day">25</div>
                        <div class="calendar-day">26</div>
                        <div class="calendar-day has-event" onclick="showEventDetail('27-juli')">27</div>
                        <div class="calendar-day has-event" onclick="showEventDetail('28-juli')">28</div>
                        <div class="calendar-day">29</div>
                        <div class="calendar-day">30</div>
                        <div class="calendar-day">31</div>
                    </div>
                    
                    <div class="text-center">
                        <button onclick="showFullCalendar()" class="bg-blue-600 text-white px-4 py-2 rounded-lg text-sm hover:bg-blue-700 transition">
                            Lihat Kalender Lengkap
                        </button>
                    </div>
                </div>
                <!-- Finance Report -->
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h4 class="text-xl font-semibold">Laporan Keuangan RT</h4>
                        <div class="flex space-x-2">
                            <button onclick="showFinanceReport('monthly')" class="finance-tab active bg-green-600 text-white px-3 py-1 rounded text-sm">Bulanan</button>
                            <button onclick="showFinanceReport('yearly')" class="finance-tab bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm">Tahunan</button>
                        </div>
                    </div>
                    
                    <div id="monthly-report">
                        <div class="grid grid-cols-2 gap-3 mb-4">
                            <div class="bg-green-50 p-3 rounded-lg">
                                <div class="text-xs text-green-600 font-medium">Pemasukan</div>
                                <div class="text-lg font-bold text-green-700">Rp 2.450.000</div>
                            </div>
                            <div class="bg-red-50 p-3 rounded-lg">
                                <div class="text-xs text-red-600 font-medium">Pengeluaran</div>
                                <div class="text-lg font-bold text-red-700">Rp 1.890.000</div>
                            </div>
                        </div>
                        
                        <div class="bg-blue-50 p-3 rounded-lg mb-4">
                            <div class="text-xs text-blue-600 font-medium">Saldo Bulan Ini</div>
                            <div class="text-xl font-bold text-blue-700">Rp 560.000</div>
                        </div>
                        
                        <button onclick="showDetailedReport()" class="w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition text-sm">
                            Lihat Detail Lengkap
                        </button>
                    </div>
                    
                    <div id="yearly-report" style="display: none;">
                        <div class="grid grid-cols-2 gap-3 mb-4">
                            <div class="bg-green-50 p-3 rounded-lg">
                                <div class="text-xs text-green-600 font-medium">Total Pemasukan</div>
                                <div class="text-lg font-bold text-green-700">Rp 16.800.000</div>
                            </div>
                            <div class="bg-red-50 p-3 rounded-lg">
                                <div class="text-xs text-red-600 font-medium">Total Pengeluaran</div>
                                <div class="text-lg font-bold text-red-700">Rp 14.200.000</div>
                            </div>
                        </div>
                        
                        <div class="bg-blue-50 p-3 rounded-lg mb-4">
                            <div class="text-xs text-blue-600 font-medium">Saldo Akhir Tahun</div>
                            <div class="text-xl font-bold text-blue-700">Rp 2.600.000</div>
                        </div>
                        
                        <button onclick="downloadYearlyReport()" class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition text-sm">
                            Download Laporan PDF
                        </button>
                    </div>
                </div>

                <!-- Data Warga Enhanced -->
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <div class="flex items-center justify-between mb-4">
                        <h4 class="text-xl font-semibold">👥 Data Warga RT 002</h4>
                        <div class="flex space-x-2">
                            <button onclick="showDataForm('add')" class="data-tab active bg-blue-600 text-white px-3 py-1 rounded text-sm">Tambah</button>
                            <button onclick="showDataForm('view')" class="data-tab bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm">Lihat</button>
                            <button onclick="showDataForm('stats')" class="data-tab bg-gray-200 text-gray-700 px-3 py-1 rounded text-sm">Statistik</button>
                        </div>
                    </div>
                    
                    <div id="add-data-form">
                        <form class="space-y-4" onsubmit="addWargaData(event)">
                            <input type="text" id="namaLengkap" placeholder="Nama Lengkap" class="w-full p-2 border border-gray-300 rounded-lg text-sm" required>
                            <select id="statusKeluarga" class="w-full p-2 border border-gray-300 rounded-lg text-sm" required>
                                <option value="">Status Keluarga</option>
                                <option value="Kepala Keluarga">Kepala Keluarga</option>
                                <option value="Istri">Istri</option>
                                <option value="Anak">Anak</option>
                            </select>
                            <div class="grid grid-cols-2 gap-3">
                                <select id="jenisKelamin" class="p-2 border border-gray-300 rounded-lg text-sm" required>
                                    <option value="">Jenis Kelamin</option>
                                    <option value="Pria">Pria</option>
                                    <option value="Wanita">Wanita</option>
                                </select>
                                <input type="number" id="usia" placeholder="Usia" class="p-2 border border-gray-300 rounded-lg text-sm" required>
                            </div>
                            <input type="text" id="pekerjaan" placeholder="Pekerjaan" class="w-full p-2 border border-gray-300 rounded-lg text-sm">
                            <button type="submit" class="w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition text-sm">
                                💾 Simpan Data Warga
                            </button>
                        </form>
                    </div>
                    
                    <div id="view-data-form" style="display: none;">
                        <div class="grid grid-cols-3 gap-2 mb-4">
                            <div class="bg-blue-50 p-3 rounded-lg">
                                <div class="text-xs text-blue-600 font-medium">Total Warga</div>
                                <div class="text-lg font-bold text-blue-700" id="totalWarga">47</div>
                            </div>
                            <div class="bg-green-50 p-3 rounded-lg">
                                <div class="text-xs text-green-600 font-medium">Kepala Keluarga</div>
                                <div class="text-lg font-bold text-green-700" id="totalKK">15</div>
                            </div>
                            <div class="bg-purple-50 p-3 rounded-lg">
                                <div class="text-xs text-purple-600 font-medium">Anak-anak</div>
                                <div class="text-lg font-bold text-purple-700" id="totalAnak">18</div>
                            </div>
                        </div>
                        
                        <!-- Search and Filter -->
                        <div class="mb-4 space-y-2">
                            <input type="text" id="searchWarga" placeholder="🔍 Cari nama warga..." class="w-full p-2 border border-gray-300 rounded-lg text-sm" onkeyup="searchWargaData()">
                            <div class="flex space-x-2">
                                <select id="filterStatus" class="flex-1 p-2 border border-gray-300 rounded-lg text-sm" onchange="filterWargaData()">
                                    <option value="">Semua Status</option>
                                    <option value="Kepala Keluarga">Kepala Keluarga</option>
                                    <option value="Istri">Istri</option>
                                    <option value="Anak">Anak</option>
                                </select>
                                <select id="filterGender" class="flex-1 p-2 border border-gray-300 rounded-lg text-sm" onchange="filterWargaData()">
                                    <option value="">Semua Gender</option>
                                    <option value="Pria">Pria</option>
                                    <option value="Wanita">Wanita</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="overflow-x-auto">
                            <table class="warga-table">
                                <thead>
                                    <tr>
                                        <th onclick="sortTable(0)" style="cursor: pointer;">Nama 📊</th>
                                        <th onclick="sortTable(1)" style="cursor: pointer;">Status 📊</th>
                                        <th onclick="sortTable(2)" style="cursor: pointer;">JK 📊</th>
                                        <th onclick="sortTable(3)" style="cursor: pointer;">Usia 📊</th>
                                        <th>Aksi</th>
                                    </tr>
                                </thead>
                                <tbody id="wargaTableBody">
                                    <!-- Keluarga 1: Budi Santoso -->
                                    <tr>
                                        <td>Budi Santoso</td>
                                        <td><span class="status-badge status-kk">KK</span></td>
                                        <td>Pria</td>
                                        <td>45</td>
                                        <td><button onclick="showWargaDetail('Budi Santoso')" class="text-blue-600 text-xs hover:underline">👁️ Detail</button></td>
                                    </tr>
                                    <tr>
                                        <td>Siti Rahayu</td>
                                        <td><span class="status-badge status-istri">Istri</span></td>
                                        <td>Wanita</td>
                                        <td>42</td>
                                        <td><button onclick="showWargaDetail('Siti Rahayu')" class="text-blue-600 text-xs hover:underline">👁️ Detail</button></td>
                                    </tr>
                                    <tr>
                                        <td>Ahmad Budi</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Pria</td>
                                        <td>17</td>
                                        <td><button onclick="showWargaDetail('Ahmad Budi')" class="text-blue-600 text-xs hover:underline">👁️ Detail</button></td>
                                    </tr>
                                    <tr>
                                        <td>Dewi Santoso</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Wanita</td>
                                        <td>12</td>
                                        <td><button onclick="showWargaDetail('Dewi Santoso')" class="text-blue-600 text-xs hover:underline">👁️ Detail</button></td>
                                    </tr>
                                    
                                    <!-- Keluarga 2: Rahmat Hidayat -->
                                    <tr>
                                        <td>Rahmat Hidayat</td>
                                        <td><span class="status-badge status-kk">KK</span></td>
                                        <td>Pria</td>
                                        <td>38</td>
                                        <td><button onclick="showWargaDetail('Rahmat Hidayat')" class="text-blue-600 text-xs hover:underline">👁️ Detail</button></td>
                                    </tr>
                                    <tr>
                                        <td>Nurlaela</td>
                                        <td><span class="status-badge status-istri">Istri</span></td>
                                        <td>Wanita</td>
                                        <td>35</td>
                                        <td><button onclick="showWargaDetail('Nurlaela')" class="text-blue-600 text-xs hover:underline">👁️ Detail</button></td>
                                    </tr>
                                    <tr>
                                        <td>Fajar Hidayat</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Pria</td>
                                        <td>14</td>
                                        <td><button onclick="showWargaDetail('Fajar Hidayat')" class="text-blue-600 text-xs hover:underline">👁️ Detail</button></td>
                                    </tr>
                                    <tr>
                                        <td>Sari Nurlaela</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Wanita</td>
                                        <td>8</td>
                                        <td><button onclick="showWargaDetail('Sari Nurlaela')" class="text-blue-600 text-xs hover:underline">👁️ Detail</button></td>
                                    </tr>
                                    
                                    <!-- Keluarga 3: Dedi Setiawan -->
                                    <tr>
                                        <td>Dedi Setiawan</td>
                                        <td><span class="status-badge status-kk">KK</span></td>
                                        <td>Pria</td>
                                        <td>52</td>
                                    </tr>
                                    <tr>
                                        <td>Imas Suryani</td>
                                        <td><span class="status-badge status-istri">Istri</span></td>
                                        <td>Wanita</td>
                                        <td>48</td>
                                    </tr>
                                    <tr>
                                        <td>Raka Dedi</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Pria</td>
                                        <td>19</td>
                                    </tr>
                                    <tr>
                                        <td>Luna Imas</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Wanita</td>
                                        <td>16</td>
                                    </tr>
                                    
                                    <!-- Keluarga 4: Asep Kurnia -->
                                    <tr>
                                        <td>Asep Kurnia</td>
                                        <td><span class="status-badge status-kk">KK</span></td>
                                        <td>Pria</td>
                                        <td>41</td>
                                    </tr>
                                    <tr>
                                        <td>Tuti Marlina</td>
                                        <td><span class="status-badge status-istri">Istri</span></td>
                                        <td>Wanita</td>
                                        <td>39</td>
                                    </tr>
                                    <tr>
                                        <td>Gilang Asep</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Pria</td>
                                        <td>15</td>
                                    </tr>
                                    
                                    <!-- Keluarga 5: Yudi Pratama -->
                                    <tr>
                                        <td>Yudi Pratama</td>
                                        <td><span class="status-badge status-kk">KK</span></td>
                                        <td>Pria</td>
                                        <td>36</td>
                                    </tr>
                                    <tr>
                                        <td>Rina Sari</td>
                                        <td><span class="status-badge status-istri">Istri</span></td>
                                        <td>Wanita</td>
                                        <td>33</td>
                                    </tr>
                                    <tr>
                                        <td>Kenzo Yudi</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Pria</td>
                                        <td>10</td>
                                    </tr>
                                    <tr>
                                        <td>Keira Rina</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Wanita</td>
                                        <td>6</td>
                                    </tr>
                                    
                                    <!-- Keluarga 6: Ujang Sutrisno -->
                                    <tr>
                                        <td>Ujang Sutrisno</td>
                                        <td><span class="status-badge status-kk">KK</span></td>
                                        <td>Pria</td>
                                        <td>58</td>
                                    </tr>
                                    <tr>
                                        <td>Eneng Rohayati</td>
                                        <td><span class="status-badge status-istri">Istri</span></td>
                                        <td>Wanita</td>
                                        <td>54</td>
                                    </tr>
                                    <tr>
                                        <td>Agus Ujang</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Pria</td>
                                        <td>22</td>
                                    </tr>
                                    <tr>
                                        <td>Wati Eneng</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Wanita</td>
                                        <td>20</td>
                                    </tr>
                                    
                                    <!-- Keluarga 7: Cecep Mulyana -->
                                    <tr>
                                        <td>Cecep Mulyana</td>
                                        <td><span class="status-badge status-kk">KK</span></td>
                                        <td>Pria</td>
                                        <td>43</td>
                                    </tr>
                                    <tr>
                                        <td>Euis Nurhasanah</td>
                                        <td><span class="status-badge status-istri">Istri</span></td>
                                        <td>Wanita</td>
                                        <td>40</td>
                                    </tr>
                                    <tr>
                                        <td>Dika Cecep</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Pria</td>
                                        <td>18</td>
                                    </tr>
                                    <tr>
                                        <td>Dini Euis</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Wanita</td>
                                        <td>13</td>
                                    </tr>
                                    
                                    <!-- Keluarga 8: Iwan Gunawan -->
                                    <tr>
                                        <td>Iwan Gunawan</td>
                                        <td><span class="status-badge status-kk">KK</span></td>
                                        <td>Pria</td>
                                        <td>49</td>
                                    </tr>
                                    <tr>
                                        <td>Neneng Kartika</td>
                                        <td><span class="status-badge status-istri">Istri</span></td>
                                        <td>Wanita</td>
                                        <td>46</td>
                                    </tr>
                                    <tr>
                                        <td>Rizki Iwan</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Pria</td>
                                        <td>21</td>
                                    </tr>
                                    <tr>
                                        <td>Rika Neneng</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Wanita</td>
                                        <td>18</td>
                                    </tr>
                                    
                                    <!-- Keluarga 9: Taufik Rahman -->
                                    <tr>
                                        <td>Taufik Rahman</td>
                                        <td><span class="status-badge status-kk">KK</span></td>
                                        <td>Pria</td>
                                        <td>37</td>
                                    </tr>
                                    <tr>
                                        <td>Lilik Susilawati</td>
                                        <td><span class="status-badge status-istri">Istri</span></td>
                                        <td>Wanita</td>
                                        <td>34</td>
                                    </tr>
                                    <tr>
                                        <td>Arya Taufik</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Pria</td>
                                        <td>11</td>
                                    </tr>
                                    <tr>
                                        <td>Ara Lilik</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Wanita</td>
                                        <td>7</td>
                                    </tr>
                                    
                                    <!-- Keluarga 10: Dadan Permana -->
                                    <tr>
                                        <td>Dadan Permana</td>
                                        <td><span class="status-badge status-kk">KK</span></td>
                                        <td>Pria</td>
                                        <td>44</td>
                                    </tr>
                                    <tr>
                                        <td>Sinta Rahayu</td>
                                        <td><span class="status-badge status-istri">Istri</span></td>
                                        <td>Wanita</td>
                                        <td>41</td>
                                    </tr>
                                    <tr>
                                        <td>Bagas Dadan</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Pria</td>
                                        <td>16</td>
                                    </tr>
                                    <tr>
                                        <td>Bella Sinta</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Wanita</td>
                                        <td>14</td>
                                    </tr>
                                    
                                    <!-- Keluarga 11: Eko Saputra -->
                                    <tr>
                                        <td>Eko Saputra</td>
                                        <td><span class="status-badge status-kk">KK</span></td>
                                        <td>Pria</td>
                                        <td>40</td>
                                    </tr>
                                    <tr>
                                        <td>Maya Wulandari</td>
                                        <td><span class="status-badge status-istri">Istri</span></td>
                                        <td>Wanita</td>
                                        <td>37</td>
                                    </tr>
                                    <tr>
                                        <td>Fikri Eko</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Pria</td>
                                        <td>12</td>
                                    </tr>
                                    <tr>
                                        <td>Fira Maya</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Wanita</td>
                                        <td>9</td>
                                    </tr>
                                    
                                    <!-- Keluarga 12: Jajang Nurdin -->
                                    <tr>
                                        <td>Jajang Nurdin</td>
                                        <td><span class="status-badge status-kk">KK</span></td>
                                        <td>Pria</td>
                                        <td>55</td>
                                    </tr>
                                    <tr>
                                        <td>Cucu Komariah</td>
                                        <td><span class="status-badge status-istri">Istri</span></td>
                                        <td>Wanita</td>
                                        <td>51</td>
                                    </tr>
                                    <tr>
                                        <td>Nanda Jajang</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Wanita</td>
                                        <td>23</td>
                                    </tr>
                                    
                                    <!-- Keluarga 13: Wawan Setiadi -->
                                    <tr>
                                        <td>Wawan Setiadi</td>
                                        <td><span class="status-badge status-kk">KK</span></td>
                                        <td>Pria</td>
                                        <td>39</td>
                                    </tr>
                                    <tr>
                                        <td>Ade Trisnawati</td>
                                        <td><span class="status-badge status-istri">Istri</span></td>
                                        <td>Wanita</td>
                                        <td>36</td>
                                    </tr>
                                    <tr>
                                        <td>Kevin Wawan</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Pria</td>
                                        <td>13</td>
                                    </tr>
                                    
                                    <!-- Keluarga 14: Agus Salim -->
                                    <tr>
                                        <td>Agus Salim</td>
                                        <td><span class="status-badge status-kk">KK</span></td>
                                        <td>Pria</td>
                                        <td>47</td>
                                    </tr>
                                    <tr>
                                        <td>Nia Kurniawati</td>
                                        <td><span class="status-badge status-istri">Istri</span></td>
                                        <td>Wanita</td>
                                        <td>43</td>
                                    </tr>
                                    <tr>
                                        <td>Alif Agus</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Pria</td>
                                        <td>19</td>
                                    </tr>
                                    <tr>
                                        <td>Alya Nia</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Wanita</td>
                                        <td>15</td>
                                    </tr>
                                    
                                    <!-- Keluarga 15: Hendra Wijaya -->
                                    <tr>
                                        <td>Hendra Wijaya</td>
                                        <td><span class="status-badge status-kk">KK</span></td>
                                        <td>Pria</td>
                                        <td>42</td>
                                    </tr>
                                    <tr>
                                        <td>Erna Susanti</td>
                                        <td><span class="status-badge status-istri">Istri</span></td>
                                        <td>Wanita</td>
                                        <td>38</td>
                                    </tr>
                                    <tr>
                                        <td>Yoga Hendra</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Pria</td>
                                        <td>17</td>
                                    </tr>
                                    <tr>
                                        <td>Yola Erna</td>
                                        <td><span class="status-badge status-anak">Anak</span></td>
                                        <td>Wanita</td>
                                        <td>11</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        
                        <div class="grid grid-cols-2 gap-2 mt-4">
                            <button onclick="exportWargaData()" class="bg-green-600 text-white py-2 px-3 rounded-lg hover:bg-green-700 transition text-xs">
                                📊 Export Excel
                            </button>
                            <button onclick="printWargaData()" class="bg-blue-600 text-white py-2 px-3 rounded-lg hover:bg-blue-700 transition text-xs">
                                🖨️ Print
                            </button>
                            <button onclick="resetWargaFilters()" class="bg-gray-600 text-white py-2 px-3 rounded-lg hover:bg-gray-700 transition text-xs">
                                🔄 Reset Filter
                            </button>
                            <button onclick="showKeluargaView()" class="bg-purple-600 text-white py-2 px-3 rounded-lg hover:bg-purple-700 transition text-xs">
                                👨‍👩‍👧‍👦 Per Keluarga
                            </button>
                        </div>
                    </div>
                    
                    <div id="stats-data-form" style="display: none;">
                        <div class="space-y-4">
                            <div class="bg-gradient-to-r from-blue-500 to-purple-600 text-white p-4 rounded-lg">
                                <h5 class="font-semibold mb-2">📈 Statistik Demografi</h5>
                                <div class="grid grid-cols-2 gap-4 text-sm">
                                    <div>
                                        <div class="opacity-80">Pria</div>
                                        <div class="text-xl font-bold">24 (51%)</div>
                                    </div>
                                    <div>
                                        <div class="opacity-80">Wanita</div>
                                        <div class="text-xl font-bold">23 (49%)</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-gradient-to-r from-green-500 to-teal-600 text-white p-4 rounded-lg">
                                <h5 class="font-semibold mb-2">🎂 Kelompok Usia</h5>
                                <div class="grid grid-cols-3 gap-2 text-sm">
                                    <div>
                                        <div class="opacity-80">0-17 thn</div>
                                        <div class="text-lg font-bold">18</div>
                                    </div>
                                    <div>
                                        <div class="opacity-80">18-60 thn</div>
                                        <div class="text-lg font-bold">25</div>
                                    </div>
                                    <div>
                                        <div class="opacity-80">60+ thn</div>
                                        <div class="text-lg font-bold">4</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-gradient-to-r from-orange-500 to-red-600 text-white p-4 rounded-lg">
                                <h5 class="font-semibold mb-2">👨‍👩‍👧‍👦 Data Keluarga</h5>
                                <div class="grid grid-cols-2 gap-4 text-sm">
                                    <div>
                                        <div class="opacity-80">Total KK</div>
                                        <div class="text-xl font-bold">15 KK</div>
                                    </div>
                                    <div>
                                        <div class="opacity-80">Rata-rata per KK</div>
                                        <div class="text-xl font-bold">3.1 orang</div>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="bg-gradient-to-r from-purple-500 to-pink-600 text-white p-4 rounded-lg">
                                <h5 class="font-semibold mb-2">📊 Statistik Lengkap</h5>
                                <div class="space-y-2 text-sm">
                                    <div class="flex justify-between">
                                        <span class="opacity-80">Keluarga Terbesar:</span>
                                        <span class="font-bold">4 orang</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="opacity-80">Keluarga Terkecil:</span>
                                        <span class="font-bold">3 orang</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="opacity-80">Usia Tertua:</span>
                                        <span class="font-bold">58 tahun</span>
                                    </div>
                                    <div class="flex justify-between">
                                        <span class="opacity-80">Usia Termuda:</span>
                                        <span class="font-bold">6 tahun</span>
                                    </div>
                                </div>
                            </div>
                            
                            <button onclick="showDetailedStats()" class="w-full bg-white text-purple-600 py-2 px-4 rounded-lg hover:bg-gray-50 transition text-sm font-semibold">
                                📈 Lihat Analisis Detail
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Kontak Section -->
    <section id="kontak" class="py-16 bg-gray-800 text-white">
        <div class="container mx-auto px-4">
            <h3 class="text-3xl font-bold text-center mb-12">Kontak Kami</h3>
            <div class="grid md:grid-cols-2 gap-8">
                <div>
                    <h4 class="text-xl font-semibold mb-4">Informasi Kontak</h4>
                    <div class="space-y-3">
                        <div class="flex items-center">
                            <span class="text-2xl mr-3">📍</span>
                            <span>RT 002 RW 004, Desa Tagog Apu, Cempaka Mekar, Padalarang, Bandung Barat</span>
                        </div>
                        <div class="flex items-center">
                            <span class="text-2xl mr-3">📞</span>
                            <span>+62 812-3456-7890 (Ketua RT)</span>
                        </div>
                        <div class="flex items-center">
                            <span class="text-2xl mr-3">📧</span>
                            <span>pasarkaler.rt002@gmail.com</span>
                        </div>
                    </div>
                </div>

                <div>
                    <h4 class="text-xl font-semibold mb-4">Pengurus RT</h4>
                    <div class="space-y-2">
                        <div class="flex justify-between">
                            <span>Ketua RT:</span>
                            <span class="font-semibold">Ibu Wiwin</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Sekretaris:</span>
                            <span class="font-semibold">Ibu Siti Cenah</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Bendahara:</span>
                            <span class="font-semibold">Agnia Istighfarin</span>
                        </div>
                        <div class="flex justify-between">
                            <span>Koordinator Keamanan:</span>
                            <span class="font-semibold">Bapak Pam Satpam</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-gray-900 text-white py-8">
        <div class="container mx-auto px-4 text-center">
            <p class="text-sm text-gray-400">© 2025 Website Resmi RT 002 RW 004 Pasar Kaler. Dibuat dengan ❤️ untuk mempererat tali persaudaraan warga.</p>
        </div>
    </footer>
    
    <!-- Running Text Footer -->
    <div class="running-text-footer">
        <div class="running-text">
            🏘️ RT 002 RW 004 Pasar Kaler - Desa Tagog Apu, Padalarang, Bandung Barat • 📞 Kontak: 0812-3456-7890 (Ibu Wiwin) • 🗓️ Gotong Royong: Setiap Minggu 07:00 WIB • 📖 Pengajian: Setiap Kamis 19:30 WIB • 🎓 Pelatihan: Setiap Bulan 14:00 WIB • 🌙 Ronda: Setiap Hari 21:00-05:00 WIB • 📧 Email: pasarkaler.rt002@gmail.com • 🏔️ Warisan Sejarah Kalkrotsen Tagog Apu • 🇮🇩 Merdeka! Bersatu Kita Teguh! • 🤝 Gotong Royong adalah Kekuatan Kita • 
        </div>
    </div>

    <!-- Notification Banner -->
    <div id="notificationBanner" class="notification-banner">
        <span id="notificationText"></span>
    </div>
    
    <!-- WhatsApp Floating Button -->
    <div class="whatsapp-float" id="whatsappFloat">
        <div class="whatsapp-btn" onclick="handleWhatsAppClick()">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.893 3.106"/>
            </svg>
        </div>
    </div>

    <!-- Admin Panel Overlay -->
    <div class="admin-panel-overlay" id="adminOverlay" onclick="hideAdminPanel()"></div>

    <!-- Admin Panel -->
    <div class="admin-panel" id="adminPanel">
        <div style="background: linear-gradient(135deg, #25D366 0%, #128C7E 100%); color: white; padding: 20px; border-radius: 15px 15px 0 0; position: relative;">
            <button onclick="hideAdminPanel()" style="position: absolute; top: 15px; right: 15px; background: rgba(255, 255, 255, 0.2); border: none; color: white; width: 30px; height: 30px; border-radius: 50%; cursor: pointer;">×</button>
            <h3 class="text-xl font-bold mb-2">Admin & Pengurus RT 002</h3>
            <p class="text-sm opacity-90">Hubungi pengurus untuk bantuan dan informasi</p>
        </div>
        
        <!-- Chat Tabs -->
        <div class="chat-tabs">
            <button class="chat-tab active" onclick="showChatTab('contacts')">Kontak</button>
            <button class="chat-tab" onclick="showChatTab('group-chat')">Chat Grup</button>
            <button class="chat-tab" onclick="showChatTab('announcements')">Pengumuman</button>
        </div>
        
        <!-- Contacts Tab -->
        <div class="chat-content active" id="contacts-tab">
            <div style="padding: 20px;">
                <div onclick="contactAdmin('628123456789', 'Ibu Wiwin')" style="display: flex; align-items: center; padding: 15px; border-bottom: 1px solid #f0f0f0; cursor: pointer;">
                    <div style="width: 50px; height: 50px; border-radius: 50%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; margin-right: 15px;">IW</div>
                    <div style="flex: 1;">
                        <h4 style="margin: 0; font-size: 16px; color: #333;">Ibu Wiwin</h4>
                        <p style="margin: 5px 0 0 0; font-size: 14px; color: #666;">Ketua RT 002</p>
                    </div>
                    <div style="padding: 4px 8px; border-radius: 12px; font-size: 12px; background: #dcfce7; color: #166534;">Online</div>
                </div>
                
                <div onclick="contactAdmin('628123456788', 'Ibu Siti Cenah')" style="display: flex; align-items: center; padding: 15px; border-bottom: 1px solid #f0f0f0; cursor: pointer;">
                    <div style="width: 50px; height: 50px; border-radius: 50%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; margin-right: 15px;">SC</div>
                    <div style="flex: 1;">
                        <h4 style="margin: 0; font-size: 16px; color: #333;">Ibu Siti Cenah</h4>
                        <p style="margin: 5px 0 0 0; font-size: 14px; color: #666;">Sekretaris RT</p>
                    </div>
                    <div style="padding: 4px 8px; border-radius: 12px; font-size: 12px; background: #dcfce7; color: #166534;">Online</div>
                </div>
                
                <div onclick="contactAdmin('628123456787', 'Agnia Istighfarin')" style="display: flex; align-items: center; padding: 15px; border-bottom: 1px solid #f0f0f0; cursor: pointer;">
                    <div style="width: 50px; height: 50px; border-radius: 50%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; margin-right: 15px;">AI</div>
                    <div style="flex: 1;">
                        <h4 style="margin: 0; font-size: 16px; color: #333;">Agnia Istighfarin</h4>
                        <p style="margin: 5px 0 0 0; font-size: 14px; color: #666;">Bendahara RT</p>
                    </div>
                    <div style="padding: 4px 8px; border-radius: 12px; font-size: 12px; background: #fef2f2; color: #991b1b;">Offline</div>
                </div>
                
                <div onclick="contactAdmin('628123456786', 'Bapak Pam Satpam')" style="display: flex; align-items: center; padding: 15px; border-bottom: 1px solid #f0f0f0; cursor: pointer;">
                    <div style="width: 50px; height: 50px; border-radius: 50%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; margin-right: 15px;">PS</div>
                    <div style="flex: 1;">
                        <h4 style="margin: 0; font-size: 16px; color: #333;">Bapak Pam Satpam</h4>
                        <p style="margin: 5px 0 0 0; font-size: 14px; color: #666;">Koordinator Keamanan</p>
                    </div>
                    <div style="padding: 4px 8px; border-radius: 12px; font-size: 12px; background: #dcfce7; color: #166534;">Online</div>
                </div>
                
                <div onclick="joinGroupChat()" style="display: flex; align-items: center; padding: 15px; cursor: pointer;">
                    <div style="width: 50px; height: 50px; border-radius: 50%; background: linear-gradient(135deg, #25D366 0%, #128C7E 100%); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; margin-right: 15px;">👥</div>
                    <div style="flex: 1;">
                        <h4 style="margin: 0; font-size: 16px; color: #333;">Grup RT 002 - Pasar Kaler</h4>
                        <p style="margin: 5px 0 0 0; font-size: 14px; color: #666;">Gabung grup WhatsApp warga</p>
                    </div>
                    <div style="padding: 4px 8px; border-radius: 12px; font-size: 12px; background: #dcfce7; color: #166534;">124 anggota</div>
                </div>
            </div>
        </div>
        
        <!-- Group Chat Tab -->
        <div class="chat-content" id="group-chat-tab">
            <div style="background: #25D366; color: white; padding: 10px; margin-bottom: 10px;">
                <h5 style="margin: 0; font-size: 14px; font-weight: 600;">RT 002 - Pasar Kaler</h5>
                <p style="margin: 0; font-size: 11px; opacity: 0.9;">124 anggota • 18 online</p>
            </div>
            
            <div class="chat-container">
                <div class="chat-message">
                    <div class="chat-avatar">IW</div>
                    <div class="chat-bubble">
                        <div class="chat-name">Ibu Wiwin (Ketua RT)</div>
                        <div class="chat-text">Assalamualaikum warga RT 002. Selamat pagi semua! 🌅</div>
                        <div class="chat-time">07:30</div>
                    </div>
                </div>
                
                <div class="chat-message">
                    <div class="chat-avatar">SC</div>
                    <div class="chat-bubble">
                        <div class="chat-name">Ibu Siti Cenah (Sekretaris)</div>
                        <div class="chat-text">Waalaikumsalam bu. Selamat pagi juga 😊</div>
                        <div class="chat-time">07:32</div>
                    </div>
                </div>
                
                <div class="chat-message">
                    <div class="chat-avatar">RH</div>
                    <div class="chat-bubble">
                        <div class="chat-name">Pak Rahmat (Warga)</div>
                        <div class="chat-text">Pagi bu, mau tanya jadwal gotong royong minggu ini kapan ya?</div>
                        <div class="chat-time">07:35</div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Announcements Tab -->
        <div class="chat-content" id="announcements-tab">
            <div style="background: #25D366; color: white; padding: 10px; margin-bottom: 10px;">
                <h5 style="margin: 0; font-size: 14px; font-weight: 600;">Pengumuman Resmi</h5>
                <p style="margin: 0; font-size: 11px; opacity: 0.9;">Berita dan info penting dari pengurus RT</p>
            </div>
            
            <div class="chat-container">
                <div class="chat-message">
                    <div class="chat-avatar">IW</div>
                    <div class="chat-bubble">
                        <div class="chat-name">Ibu Wiwin (Ketua RT)</div>
                        <div class="chat-text">📢 PENGUMUMAN PENTING: Dalam rangka memperingati HUT RI ke-80, RT 002 akan mengadakan berbagai lomba pada 17 Agustus 2025.</div>
                        <div class="chat-time">Kemarin 10:00</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Mobile Navigation
        function toggleMobileNav() {
            const mobileNav = document.getElementById('mobileNav');
            const mobileOverlay = document.getElementById('mobileOverlay');
            
            mobileNav.classList.toggle('active');
            mobileOverlay.classList.toggle('active');
            
            if (mobileNav.classList.contains('active')) {
                document.body.style.overflow = 'hidden';
            } else {
                document.body.style.overflow = 'auto';
            }
        }

        // WhatsApp Admin Panel
        function handleWhatsAppClick() {
            showAdminPanel();
        }
        
        function showAdminPanel() {
            document.getElementById('adminOverlay').classList.add('show');
            document.getElementById('adminPanel').classList.add('show');
            document.body.style.overflow = 'hidden';
        }
        
        function hideAdminPanel() {
            document.getElementById('adminOverlay').classList.remove('show');
            document.getElementById('adminPanel').classList.remove('show');
            document.body.style.overflow = 'auto';
        }
        
        function contactAdmin(phoneNumber, name) {
            const message = "Halo " + name + ", saya ingin menanyakan tentang kegiatan RT 002 Pasar Kaler. Terima kasih.";
            const encodedMessage = encodeURIComponent(message);
            const whatsappUrl = "https://wa.me/" + phoneNumber + "?text=" + encodedMessage;
            window.open(whatsappUrl, '_blank');
            hideAdminPanel();
        }
        
        function joinGroupChat() {
            alert('Fitur bergabung ke grup WhatsApp akan segera tersedia! Anda akan diarahkan ke grup "RT 002 - Pasar Kaler" dengan 124 anggota aktif.');
            hideAdminPanel();
        }

        // Chat Tabs
        function showChatTab(tabName) {
            document.querySelectorAll('.chat-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.chat-content').forEach(content => {
                content.classList.remove('active');
            });
            
            event.target.classList.add('active');
            document.getElementById(tabName + '-tab').classList.add('active');
        }

        // Finance Report
        function showFinanceReport(type) {
            document.querySelectorAll('.finance-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            event.target.classList.add('active');
            
            if (type === 'monthly') {
                document.getElementById('monthly-report').style.display = 'block';
                document.getElementById('yearly-report').style.display = 'none';
            } else {
                document.getElementById('monthly-report').style.display = 'none';
                document.getElementById('yearly-report').style.display = 'block';
            }
        }
        
        function showDetailedReport() {
            alert('Laporan keuangan detail akan menampilkan grafik pemasukan & pengeluaran, rincian per kategori, dan analisis keuangan. Fitur ini akan segera tersedia!');
        }
        
        function downloadYearlyReport() {
            alert('Laporan Keuangan Tahunan RT 002 - 2025 akan didownload. File berisi ringkasan keuangan bulanan, detail pemasukan & pengeluaran, dan grafik analisis.');
        }

        // Data Warga Enhanced
        function showDataForm(type) {
            document.querySelectorAll('.data-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            event.target.classList.add('active');
            
            if (type === 'add') {
                document.getElementById('add-data-form').style.display = 'block';
                document.getElementById('view-data-form').style.display = 'none';
                document.getElementById('stats-data-form').style.display = 'none';
            } else if (type === 'view') {
                document.getElementById('add-data-form').style.display = 'none';
                document.getElementById('view-data-form').style.display = 'block';
                document.getElementById('stats-data-form').style.display = 'none';
            } else if (type === 'stats') {
                document.getElementById('add-data-form').style.display = 'none';
                document.getElementById('view-data-form').style.display = 'none';
                document.getElementById('stats-data-form').style.display = 'block';
            }
        }
        
        function addWargaData(event) {
            event.preventDefault();
            const nama = document.getElementById('namaLengkap').value;
            const status = document.getElementById('statusKeluarga').value;
            const jk = document.getElementById('jenisKelamin').value;
            const usia = document.getElementById('usia').value;
            const pekerjaan = document.getElementById('pekerjaan').value;
            
            showNotification('✅ Data warga ' + nama + ' berhasil ditambahkan ke database RT 002!');
            
            // Add to table
            const tbody = document.getElementById('wargaTableBody');
            const row = document.createElement('tr');
            
            let statusClass = 'status-kk';
            let statusText = 'KK';
            if (status === 'Istri') {
                statusClass = 'status-istri';
                statusText = 'IST';
            } else if (status === 'Anak') {
                statusClass = 'status-anak';
                statusText = 'ANK';
            }
            
            row.innerHTML = `
                <td>${nama}</td>
                <td><span class="status-badge ${statusClass}">${statusText}</span></td>
                <td>${jk}</td>
                <td>${usia}</td>
            `;
            tbody.appendChild(row);
            
            // Update counters
            const totalWarga = document.getElementById('totalWarga');
            totalWarga.textContent = parseInt(totalWarga.textContent) + 1;
            
            // Reset form
            document.getElementById('namaLengkap').value = '';
            document.getElementById('statusKeluarga').value = '';
            document.getElementById('jenisKelamin').value = '';
            document.getElementById('usia').value = '';
            document.getElementById('pekerjaan').value = '';
        }
        
        function exportWargaData() {
            showNotification('📊 Data Warga RT 002 sedang diekspor ke Excel...');
            setTimeout(() => {
                alert('📋 File Excel berhasil didownload!\n\nBerisi:\n• Daftar 47 warga\n• 15 Kepala Keluarga\n• Statistik demografi\n• Data kontak pengurus RT');
            }, 2000);
        }
        
        function printWargaData() {
            showNotification('🖨️ Menyiapkan data untuk dicetak...');
            setTimeout(() => {
                window.print();
            }, 1000);
        }
        
        // Search and Filter Functions
        function searchWargaData() {
            const searchTerm = document.getElementById('searchWarga').value.toLowerCase();
            const table = document.getElementById('wargaTableBody');
            const rows = table.getElementsByTagName('tr');
            
            for (let i = 0; i < rows.length; i++) {
                const nameCell = rows[i].getElementsByTagName('td')[0];
                if (nameCell) {
                    const name = nameCell.textContent || nameCell.innerText;
                    if (name.toLowerCase().indexOf(searchTerm) > -1) {
                        rows[i].style.display = '';
                    } else {
                        rows[i].style.display = 'none';
                    }
                }
            }
            
            if (searchTerm) {
                showNotification('🔍 Pencarian untuk: "' + searchTerm + '"');
            }
        }
        
        function filterWargaData() {
            const statusFilter = document.getElementById('filterStatus').value;
            const genderFilter = document.getElementById('filterGender').value;
            const table = document.getElementById('wargaTableBody');
            const rows = table.getElementsByTagName('tr');
            
            for (let i = 0; i < rows.length; i++) {
                const cells = rows[i].getElementsByTagName('td');
                if (cells.length >= 3) {
                    const status = cells[1].textContent || cells[1].innerText;
                    const gender = cells[2].textContent || cells[2].innerText;
                    
                    let showRow = true;
                    
                    if (statusFilter && !status.includes(statusFilter)) {
                        showRow = false;
                    }
                    
                    if (genderFilter && gender !== genderFilter) {
                        showRow = false;
                    }
                    
                    rows[i].style.display = showRow ? '' : 'none';
                }
            }
            
            if (statusFilter || genderFilter) {
                showNotification('🗂️ Filter diterapkan: ' + (statusFilter || 'Semua Status') + ' - ' + (genderFilter || 'Semua Gender'));
            }
        }
        
        function resetWargaFilters() {
            document.getElementById('searchWarga').value = '';
            document.getElementById('filterStatus').value = '';
            document.getElementById('filterGender').value = '';
            
            const table = document.getElementById('wargaTableBody');
            const rows = table.getElementsByTagName('tr');
            
            for (let i = 0; i < rows.length; i++) {
                rows[i].style.display = '';
            }
            
            showNotification('🔄 Filter dan pencarian direset');
        }
        
        // Sorting Table Function
        function sortTable(columnIndex) {
            const table = document.getElementById('wargaTableBody');
            const rows = Array.from(table.getElementsByTagName('tr'));
            let sortAscending = true;
            
            // Toggle sort order
            if (table.getAttribute('data-sort-column') == columnIndex) {
                sortAscending = table.getAttribute('data-sort-order') !== 'asc';
            }
            
            rows.sort((a, b) => {
                const cellA = a.getElementsByTagName('td')[columnIndex];
                const cellB = b.getElementsByTagName('td')[columnIndex];
                
                if (!cellA || !cellB) return 0;
                
                let valueA = cellA.textContent || cellA.innerText;
                let valueB = cellB.textContent || cellB.innerText;
                
                // Handle numeric sorting for age column
                if (columnIndex === 3) {
                    valueA = parseInt(valueA) || 0;
                    valueB = parseInt(valueB) || 0;
                } else {
                    valueA = valueA.toLowerCase();
                    valueB = valueB.toLowerCase();
                }
                
                if (valueA < valueB) return sortAscending ? -1 : 1;
                if (valueA > valueB) return sortAscending ? 1 : -1;
                return 0;
            });
            
            // Clear table and re-add sorted rows
            table.innerHTML = '';
            rows.forEach(row => table.appendChild(row));
            
            // Store sort state
            table.setAttribute('data-sort-column', columnIndex);
            table.setAttribute('data-sort-order', sortAscending ? 'asc' : 'desc');
            
            const columns = ['Nama', 'Status', 'Jenis Kelamin', 'Usia'];
            showNotification('📊 Tabel diurutkan berdasarkan ' + columns[columnIndex] + ' (' + (sortAscending ? 'A-Z' : 'Z-A') + ')');
        }
        
        // Show Warga Detail
        function showWargaDetail(namaWarga) {
            const wargaData = {
                'Budi Santoso': {
                    nama: 'Budi Santoso',
                    status: 'Kepala Keluarga',
                    jenisKelamin: 'Pria',
                    usia: 45,
                    pekerjaan: 'Pedagang',
                    alamat: 'Jl. Pasar Kaler No. 12',
                    noKTP: '3217054512890001',
                    noKK: '3217050101010001',
                    agama: 'Islam',
                    pendidikan: 'SMA',
                    statusKawin: 'Menikah'
                },
                'Siti Rahayu': {
                    nama: 'Siti Rahayu',
                    status: 'Istri',
                    jenisKelamin: 'Wanita',
                    usia: 42,
                    pekerjaan: 'Ibu Rumah Tangga',
                    alamat: 'Jl. Pasar Kaler No. 12',
                    noKTP: '3217054204820002',
                    noKK: '3217050101010001',
                    agama: 'Islam',
                    pendidikan: 'SMP',
                    statusKawin: 'Menikah'
                },
                'Ahmad Budi': {
                    nama: 'Ahmad Budi',
                    status: 'Anak',
                    jenisKelamin: 'Pria',
                    usia: 17,
                    pekerjaan: 'Pelajar',
                    alamat: 'Jl. Pasar Kaler No. 12',
                    noKTP: '-',
                    noKK: '3217050101010001',
                    agama: 'Islam',
                    pendidikan: 'SMA (Kelas 11)',
                    statusKawin: 'Belum Menikah'
                }
            };
            
            const data = wargaData[namaWarga] || {
                nama: namaWarga,
                status: 'Data tidak tersedia',
                jenisKelamin: '-',
                usia: '-',
                pekerjaan: '-',
                alamat: 'RT 002 RW 004 Pasar Kaler',
                noKTP: '-',
                noKK: '-',
                agama: '-',
                pendidikan: '-',
                statusKawin: '-'
            };
            
            alert('👤 Detail Warga RT 002\n\n' +
                  '📝 Nama: ' + data.nama + '\n' +
                  '👨‍👩‍👧‍👦 Status: ' + data.status + '\n' +
                  '⚧️ Jenis Kelamin: ' + data.jenisKelamin + '\n' +
                  '🎂 Usia: ' + data.usia + ' tahun\n' +
                  '💼 Pekerjaan: ' + data.pekerjaan + '\n' +
                  '📍 Alamat: ' + data.alamat + '\n' +
                  '🆔 No. KTP: ' + data.noKTP + '\n' +
                  '🏠 No. KK: ' + data.noKK + '\n' +
                  '🙏 Agama: ' + data.agama + '\n' +
                  '🎓 Pendidikan: ' + data.pendidikan + '\n' +
                  '💒 Status Kawin: ' + data.statusKawin);
        }
        
        // Show Detailed Statistics
        function showDetailedStats() {
            alert('📊 Analisis Statistik Detail RT 002\n\n' +
                  '👨‍👩‍👧‍👦 DEMOGRAFI:\n' +
                  '• Total Warga: 47 orang\n' +
                  '• Total KK: 15 kepala keluarga\n' +
                  '• Rata-rata per KK: 3.1 orang\n\n' +
                  '🎯 GENDER:\n' +
                  '• Pria: 24 orang (51%)\n' +
                  '• Wanita: 23 orang (49%)\n\n' +
                  '🎂 KELOMPOK USIA:\n' +
                  '• Balita (0-5): 3 orang\n' +
                  '• Anak (6-17): 15 orang\n' +
                  '• Dewasa (18-60): 25 orang\n' +
                  '• Lansia (60+): 4 orang\n\n' +
                  '💼 PEKERJAAN:\n' +
                  '• Pedagang: 8 orang\n' +
                  '• Ibu Rumah Tangga: 12 orang\n' +
                  '• Pelajar: 15 orang\n' +
                  '• Wiraswasta: 7 orang\n' +
                  '• Karyawan: 5 orang\n\n' +
                  'Data ini diperbarui setiap bulan oleh pengurus RT.');
        }
        
        // Show Keluarga View
        function showKeluargaView() {
            const keluargaInfo = 
                '👨‍👩‍👧‍👦 DAFTAR KELUARGA RT 002\n\n' +
                '1. Keluarga Budi Santoso (4 orang)\n' +
                '   📍 Jl. Pasar Kaler No. 12\n' +
                '   • Budi Santoso (45) - KK\n' +
                '   • Siti Rahayu (42) - Istri\n' +
                '   • Ahmad Budi (17) - Anak\n' +
                '   • Dewi Santoso (12) - Anak\n\n' +
                '2. Keluarga Rahmat Hidayat (4 orang)\n' +
                '   📍 Jl. Pasar Kaler No. 15\n' +
                '   • Rahmat Hidayat (38) - KK\n' +
                '   • Nurlaela (35) - Istri\n' +
                '   • Fajar Hidayat (14) - Anak\n' +
                '   • Sari Nurlaela (8) - Anak\n\n' +
                '3. Keluarga Dedi Setiawan (4 orang)\n' +
                '   📍 Jl. Pasar Kaler No. 18\n' +
                '   • Dedi Setiawan (52) - KK\n' +
                '   • Imas Suryani (48) - Istri\n' +
                '   • Raka Dedi (19) - Anak\n' +
                '   • Luna Imas (16) - Anak\n\n' +
                '4. Keluarga Asep Kurnia (3 orang)\n' +
                '   📍 Jl. Pasar Kaler No. 21\n' +
                '   • Asep Kurnia (41) - KK\n' +
                '   • Tuti Marlina (39) - Istri\n' +
                '   • Gilang Asep (15) - Anak\n\n' +
                '5. Keluarga Yudi Pratama (4 orang)\n' +
                '   📍 Jl. Pasar Kaler No. 24\n' +
                '   • Yudi Pratama (36) - KK\n' +
                '   • Rina Sari (33) - Istri\n' +
                '   • Kenzo Yudi (10) - Anak\n' +
                '   • Keira Rina (6) - Anak\n\n' +
                '📝 Total: 15 Kepala Keluarga, 47 Warga\n' +
                '📞 Hubungi pengurus untuk info lengkap';
            
            alert(keluargaInfo);
        }

        // News Detail
        function showNewsDetail(newsType) {
            let title = '';
            let content = '';
            
            if (newsType === '17agustus') {
                title = '🎉 Perayaan HUT RI ke-80 - 17 Agustus 2025';
                content = 'RT 002 RW 004 Pasar Kaler akan mengadakan serangkaian kegiatan untuk memperingati HUT RI ke-80. Kegiatan meliputi lomba balap karung, makan kerupuk, panjat pinang, dan berbagai lomba tradisional lainnya.';
            } else if (newsType === 'vaksinasi') {
                title = '💉 Program Vaksinasi Gratis untuk Warga';
                content = 'Program vaksinasi gratis bekerjasama dengan Puskesmas Padalarang. Tersedia vaksin COVID-19, imunisasi anak, dan vaksin influenza untuk lansia.';
            } else if (newsType === 'renovasi') {
                title = '🔨 Renovasi Balai Warga - Gotong Royong';
                content = 'Balai warga RT 002 akan direnovasi dengan semangat gotong royong. Renovasi meliputi perbaikan atap, cat ulang, perbaikan lantai, dan penambahan fasilitas.';
            }
            
            alert(title + '\n\n' + content + '\n\nUntuk informasi lebih lengkap, hubungi pengurus RT 002 melalui WhatsApp.');
        }

        // Gallery
        function showGalleryImage(imageId, title) {
            const descriptions = {
                'upacara': 'Kegiatan upacara bendera memperingati HUT Kemerdekaan Indonesia yang diikuti oleh seluruh warga RT 002.',
                'angklung': 'Pelestarian budaya tradisional Sunda melalui kegiatan angklung yang diadakan rutin setiap bulan.',
                'kolak': 'Lomba memasak makanan tradisional dalam rangka memperingati hari-hari besar.',
                'seblak': 'Kuliner lokal yang sering disajikan dalam acara-acara RT.',
                'kopi-warga': 'Tradisi ngopi bareng warga RT 002 yang diadakan setiap sore untuk mempererat silaturahmi.',
                'gotong-royong': 'Kegiatan gotong royong tradisional yang mencerminkan semangat kerja sama warga.',
                'pelatihan-keterampilan': 'Program pemberdayaan warga melalui pelatihan berbagai keterampilan.',
                'pos-ronda': 'Sistem Keamanan Lingkungan (Siskamling) untuk menjaga keamanan kampung.'
            };
            
            alert('📸 ' + title + '\n\n' + descriptions[imageId] + '\n\nKlik tombol WhatsApp untuk bergabung dengan kegiatan ini!');
        }

        // Join Activity Modal
        function joinActivity() {
            showActivityModal();
        }
        
        function showActivityModal() {
            const modal = document.createElement('div');
            modal.id = 'activityModal';
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0,0,0,0.5);
                z-index: 2000;
                display: flex;
                align-items: center;
                justify-content: center;
                opacity: 0;
                transition: opacity 0.3s ease;
            `;
            
            const modalContent = document.createElement('div');
            modalContent.style.cssText = `
                background: white;
                border-radius: 15px;
                padding: 30px;
                max-width: 500px;
                width: 90%;
                max-height: 80vh;
                overflow-y: auto;
                position: relative;
                transform: scale(0.8);
                transition: transform 0.3s ease;
            `;
            
            modalContent.innerHTML = `
                <button onclick="closeActivityModal()" style="position: absolute; top: 15px; right: 15px; background: #f3f4f6; border: none; color: #666; width: 30px; height: 30px; border-radius: 50%; cursor: pointer; font-size: 18px; display: flex; align-items: center; justify-content: center;">×</button>
                
                <div style="text-align: center; margin-bottom: 25px;">
                    <h3 style="color: #1f2937; font-size: 24px; font-weight: bold; margin: 0 0 10px 0;">🤝 Bergabung dengan Kegiatan</h3>
                    <p style="color: #6b7280; margin: 0;">RT 002 RW 004 Pasar Kaler</p>
                </div>
                
                <div style="space-y: 15px;">
                    <h4 style="color: #374151; font-size: 18px; font-weight: 600; margin: 0 0 15px 0;">Kegiatan yang Tersedia:</h4>
                    
                    <div onclick="selectActivity('gotong-royong')" style="padding: 15px; border: 2px solid #e5e7eb; border-radius: 10px; cursor: pointer; transition: all 0.3s ease; margin-bottom: 10px;" onmouseover="this.style.borderColor='#10b981'; this.style.backgroundColor='#f0fdf4'" onmouseout="this.style.borderColor='#e5e7eb'; this.style.backgroundColor='white'">
                        <div style="display: flex; align-items: center;">
                            <span style="font-size: 24px; margin-right: 15px;">🧹</span>
                            <div>
                                <h5 style="margin: 0; color: #1f2937; font-weight: 600;">Gotong Royong Rutin</h5>
                                <p style="margin: 5px 0 0 0; color: #6b7280; font-size: 14px;">Setiap Minggu • 07:00 WIB</p>
                            </div>
                        </div>
                    </div>
                    
                    <div onclick="selectActivity('pengajian')" style="padding: 15px; border: 2px solid #e5e7eb; border-radius: 10px; cursor: pointer; transition: all 0.3s ease; margin-bottom: 10px;" onmouseover="this.style.borderColor='#3b82f6'; this.style.backgroundColor='#eff6ff'" onmouseout="this.style.borderColor='#e5e7eb'; this.style.backgroundColor='white'">
                        <div style="display: flex; align-items: center;">
                            <span style="font-size: 24px; margin-right: 15px;">📖</span>
                            <div>
                                <h5 style="margin: 0; color: #1f2937; font-weight: 600;">Pengajian Mingguan</h5>
                                <p style="margin: 5px 0 0 0; color: #6b7280; font-size: 14px;">Setiap Kamis • 19:30 WIB</p>
                            </div>
                        </div>
                    </div>
                    
                    <div onclick="selectActivity('pelatihan')" style="padding: 15px; border: 2px solid #e5e7eb; border-radius: 10px; cursor: pointer; transition: all 0.3s ease; margin-bottom: 10px;" onmouseover="this.style.borderColor='#f59e0b'; this.style.backgroundColor='#fffbeb'" onmouseout="this.style.borderColor='#e5e7eb'; this.style.backgroundColor='white'">
                        <div style="display: flex; align-items: center;">
                            <span style="font-size: 24px; margin-right: 15px;">🎓</span>
                            <div>
                                <h5 style="margin: 0; color: #1f2937; font-weight: 600;">Pelatihan Keterampilan</h5>
                                <p style="margin: 5px 0 0 0; color: #6b7280; font-size: 14px;">Setiap Bulan • 14:00 WIB</p>
                            </div>
                        </div>
                    </div>
                    
                    <div onclick="selectActivity('ronda')" style="padding: 15px; border: 2px solid #e5e7eb; border-radius: 10px; cursor: pointer; transition: all 0.3s ease; margin-bottom: 10px;" onmouseover="this.style.borderColor='#ef4444'; this.style.backgroundColor='#fef2f2'" onmouseout="this.style.borderColor='#e5e7eb'; this.style.backgroundColor='white'">
                        <div style="display: flex; align-items: center;">
                            <span style="font-size: 24px; margin-right: 15px;">🌙</span>
                            <div>
                                <h5 style="margin: 0; color: #1f2937; font-weight: 600;">Ronda Malam</h5>
                                <p style="margin: 5px 0 0 0; color: #6b7280; font-size: 14px;">Setiap Hari • 21:00-05:00 WIB</p>
                            </div>
                        </div>
                    </div>
                    
                    <div onclick="selectActivity('17agustus')" style="padding: 15px; border: 2px solid #e5e7eb; border-radius: 10px; cursor: pointer; transition: all 0.3s ease; margin-bottom: 20px;" onmouseover="this.style.borderColor='#8b5cf6'; this.style.backgroundColor='#faf5ff'" onmouseout="this.style.borderColor='#e5e7eb'; this.style.backgroundColor='white'">
                        <div style="display: flex; align-items: center;">
                            <span style="font-size: 24px; margin-right: 15px;">🎉</span>
                            <div>
                                <h5 style="margin: 0; color: #1f2937; font-weight: 600;">Perayaan 17 Agustus</h5>
                                <p style="margin: 5px 0 0 0; color: #6b7280; font-size: 14px;">17 Agustus 2025 • Event Khusus</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div style="text-align: center; padding-top: 20px; border-top: 1px solid #e5e7eb;">
                    <p style="color: #6b7280; font-size: 14px; margin: 0 0 15px 0;">Untuk mendaftar, silakan hubungi pengurus RT melalui WhatsApp</p>
                    <button onclick="showAdminPanel(); closeActivityModal();" style="background: #25D366; color: white; border: none; padding: 12px 24px; border-radius: 25px; font-weight: 600; cursor: pointer; transition: all 0.3s ease;">📱 Hubungi Pengurus</button>
                </div>
            `;
            
            modal.appendChild(modalContent);
            document.body.appendChild(modal);
            document.body.style.overflow = 'hidden';
            
            setTimeout(() => {
                modal.style.opacity = '1';
                modalContent.style.transform = 'scale(1)';
            }, 10);
        }
        
        function closeActivityModal() {
            const modal = document.getElementById('activityModal');
            if (modal) {
                modal.style.opacity = '0';
                modal.querySelector('div').style.transform = 'scale(0.8)';
                document.body.style.overflow = 'auto';
                setTimeout(() => {
                    modal.remove();
                }, 300);
            }
        }
        
        function selectActivity(activityType) {
            const activities = {
                'gotong-royong': 'Gotong Royong Rutin - Setiap Minggu 07:00 WIB',
                'pengajian': 'Pengajian Mingguan - Setiap Kamis 19:30 WIB',
                'pelatihan': 'Pelatihan Keterampilan - Setiap Bulan 14:00 WIB',
                'ronda': 'Ronda Malam - Setiap Hari 21:00-05:00 WIB',
                '17agustus': 'Perayaan 17 Agustus - 17 Agustus 2025'
            };
            
            const message = "Halo, saya ingin mendaftar untuk kegiatan: " + activities[activityType] + ". Mohon informasi lebih lanjut. Terima kasih.";
            const encodedMessage = encodeURIComponent(message);
            const whatsappUrl = "https://wa.me/628123456789?text=" + encodedMessage;
            
            closeActivityModal();
            window.open(whatsappUrl, '_blank');
        }

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const targetId = this.getAttribute('href');
                if (targetId && targetId.length > 1) {
                    const target = document.querySelector(targetId);
                    if (target) {
                        target.scrollIntoView({
                            behavior: 'smooth',
                            block: 'start'
                        });
                    }
                }
            });
        });

        // Form submissions
        document.addEventListener('DOMContentLoaded', function() {
            const forms = document.querySelectorAll('form');
            forms.forEach(form => {
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    alert('✅ Data berhasil disimpan! Terima kasih atas partisipasi Anda.');
                    form.reset();
                });
            });
        });

        // Close panels with Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const mobileNav = document.getElementById('mobileNav');
                if (mobileNav.classList.contains('active')) {
                    toggleMobileNav();
                }
                hideAdminPanel();
                closeActivityModal();
            }
        });
        
        // Close modal when clicking outside
        document.addEventListener('click', function(e) {
            const modal = document.getElementById('activityModal');
            if (modal && e.target === modal) {
                closeActivityModal();
            }
        });

        // Notification System
        function showNotification(message) {
            const banner = document.getElementById('notificationBanner');
            const text = document.getElementById('notificationText');
            
            text.textContent = message;
            banner.style.display = 'block';
            
            setTimeout(() => {
                banner.style.display = 'none';
            }, 5000);
        }
        
        // Calendar Functions
        let currentCalendarMonth = 6; // July (0-indexed)
        let currentCalendarYear = 2025;
        
        function changeMonth(direction) {
            currentCalendarMonth += direction;
            
            if (currentCalendarMonth > 11) {
                currentCalendarMonth = 0;
                currentCalendarYear++;
            } else if (currentCalendarMonth < 0) {
                currentCalendarMonth = 11;
                currentCalendarYear--;
            }
            
            updateCalendarDisplay();
        }
        
        function updateCalendarDisplay() {
            const months = ['Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni', 
                          'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'];
            
            document.getElementById('currentMonth').textContent = 
                months[currentCalendarMonth] + ' ' + currentCalendarYear;
            
            showNotification('📅 Kalender diperbarui ke ' + months[currentCalendarMonth] + ' ' + currentCalendarYear);
        }
        
        function showEventDetail(eventId) {
            const events = {
                '3-juli': '🧹 Gotong Royong Rutin - Pembersihan saluran air dan jalan kampung',
                '6-juli': '📖 Pengajian Mingguan - Kajian Al-Quran dan diskusi keagamaan',
                '10-juli': '🏥 Posyandu - Pemeriksaan kesehatan balita dan ibu hamil',
                '17-juli': '🎓 Pelatihan Keterampilan - Workshop menjahit dan handicraft',
                '21-juli': '🍰 Ulang Tahun RT - Syukuran dan makan bersama',
                '27-juli': '🏊 Kerja Bakti - Pembersihan kolam dan area umum',
                '28-juli': '🎉 Persiapan 17 Agustus - Rapat koordinasi lomba kemerdekaan'
            };
            
            const eventDetail = events[eventId] || 'Kegiatan RT 002';
            showNotification('📋 ' + eventDetail);
        }
        
        function showFullCalendar() {
            alert('🗓️ Kalender Lengkap RT 002\n\n' +
                  '📅 Kegiatan Rutin:\n' +
                  '• Minggu: Gotong Royong (07:00)\n' +
                  '• Senin: Senam Pagi (06:00)\n' +
                  '• Selasa: Rapat RT (19:00)\n' +
                  '• Rabu: Posyandu (08:00)\n' +
                  '• Kamis: Pengajian (19:30)\n' +
                  '• Jumat: Kopi Warga (16:00)\n' +
                  '• Sabtu: Pelatihan (14:00)\n\n' +
                  '📱 Hubungi pengurus untuk info lebih lanjut!');
        }
        
        // Enhanced Gallery Functions
        function uploadPhoto() {
            showNotification('📤 Fitur upload foto akan segera tersedia! Hubungi admin untuk mengirim foto kegiatan.');
        }
        
        function downloadAllPhotos() {
            showNotification('💾 Menyiapkan download galeri foto RT 002...');
            setTimeout(() => {
                alert('📁 Galeri Foto RT 002 berhasil didownload!\n\nBerisi:\n• 24 foto kegiatan\n• 8 foto fasilitas RT\n• 12 foto dokumentasi acara\n• Album khusus 17 Agustus');
            }, 3000);
        }
        
        // Auto-show welcome notification
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                showNotification('🏠 Selamat datang di Website RT 002 RW 004 Pasar Kaler! Silakan jelajahi fitur-fitur kami.');
            }, 2000);
            
            // Show periodic notifications
            setInterval(() => {
                const notifications = [
                    '🌟 Jangan lupa mengikuti gotong royong setiap Minggu pagi!',
                    '📖 Pengajian Kamis malam akan dimulai pukul 19:30 WIB',
                    '🎯 Pelatihan keterampilan bulan ini: Menjahit dan Handicraft',
                    '☕ Kopi warga setiap sore di pos ronda mulai pukul 16:00',
                    '🏥 Posyandu setiap Rabu pagi untuk ibu dan balita'
                ];
                
                const randomNotification = notifications[Math.floor(Math.random() * notifications.length)];
                showNotification(randomNotification);
            }, 30000); // Every 30 seconds
        });
        
        // Animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        document.querySelectorAll('.card-hover').forEach(card => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(card);
        });
    </script>
</body>
</html>
